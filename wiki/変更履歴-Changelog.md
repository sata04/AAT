# 変更履歴 - Changelog

このページでは、AATの各バージョンにおける変更内容を記載しています。

> [!NOTE]
> 完全な変更履歴は [CHANGELOG.md](../CHANGELOG.md) をご覧ください。

---

## [10.0.0] - 2025-11-22

### 🎨 追加機能

**ライトモードとシステムテーマのサポート**:
- ダークモード（デフォルト）、ライトモード、システムデフォルトの3つのテーマオプション
- OSのテーマ設定に合わせて自動的に切り替わる機能
- ライトモードの配色を「Modern Indigo」テーマに刷新

**モダンなUIコンポーネント**:
- アニメーション付きのトグルスイッチ（設定ダイアログ）
- スタイリッシュなドロップダウンメニュー
- 全体的なUIの視認性と操作性を向上

### 🔄 変更点

- UIテーマ基盤を刷新し、メジャーバージョン 10 としてリリース
- ウィンドウタイトルを "AAT (Acceleration Analysis Tool)" に統一
- 設定ダイアログのチェックボックスをトグルスイッチに置き換え
- メニューバーの「表示」メニューに「テーマ」サブメニューを追加

**データ処理の安定性向上**:
- Inner CapsuleまたはDrag Shieldのいずれか片方のデータしか存在しない場合でも解析可能
- グラフ表示時に利用可能なセンサーデータのみを自動判別

### 🐛 修正

- データ読み込み時の列検出ロジックを改善
- フィルタリング処理時のデータ長不整合によるエラーハンドリングを強化
- グラフ描画時のセンサーデータ欠落によるクラッシュを防止

### 🔧 技術的変更

- バージョン管理ロジックを `core/version.py` に分離
- パス管理ロジックを `core/paths.py` に分離
- 設定ファイルの保存場所をユーザー設定ディレクトリに移動
- キャッシュシステムの最適化（HDF5採用）

---

## [9.3.0] - 2025-08-09

### 🔄 変更点

- デフォルト設定でのInner Capsule加速度反転オプション（`invert_inner_acceleration`）を `true` に変更
- エクスポート機能の設定オプションを追加:
  - 図表の幅・高さ設定（`export_figure_width`, `export_figure_height`）
  - DPI設定（`export_dpi`）

### 🐛 修正

- デフォルト設定ファイルの一貫性を改善
- 設定値の検証とエラーハンドリングを強化

### 🔧 技術的変更

- アプリケーションバージョンを9.2.0から9.3.0に更新
- キャッシュシステムのバージョン管理により、設定変更に伴う自動再計算を実現

---

## [9.2.0] - 2025-08-08

### 🎨 追加機能

- 開発環境セットアップの改善と自動化
- Code quality toolsの統合（Ruff linter/formatter）
- CI/CDパイプライン（GitHub Actions）の追加
- Pre-commitフックによる自動コード品質チェック
- VSCode設定ファイル（推奨拡張機能、設定）
- 包括的なドキュメント（API、ユーザーマニュアル、開発者ガイド）
- コマンドライン引数のサポート（`--verbose`, `-v`）
- 環境変数によるデバッグ制御（`AAT_DEBUG`, `AAT_LOG_LEVEL`）
- カスタム例外クラスによるエラーハンドリングの改善
- プロジェクト構造の最適化（`config/`, `docs/`ディレクトリ）

### 🔄 変更点

- `pyproject.toml`ベースのプロジェクト構成に移行
- 依存関係管理をuvパッケージマネージャーに移行
- より厳密なコード品質基準の適用（Ruff設定）
- ロギングシステムの拡張と改善
- キャッシュ検証ロジックの改善
- データ処理パイプラインの最適化
- GUI応答性とエラーメッセージの改善

### 🐛 修正

- macOS環境でのPySide6関連の警告を抑制
- バックグラウンドワーカーのエラーハンドリング強化
- 設定ファイル検証の改善

### 🛡️ セキュリティ

- 入力検証の強化
- エラーメッセージの安全な表示

---

## [9.1.0] - 2025-05-25

### 🎨 追加機能

- 出力ディレクトリ管理機能の強化
- エラーハンドリングの改善
- より詳細なログ出力

### 🔄 変更点

- 同期点検出アルゴリズムの改善により精度が向上
- 時間軸調整ロジックの最適化
- UIレイアウトの細かな改善
- matplotlib互換性の向上（最新バージョン対応）

### 🐛 修正

- 特定のCSVフォーマットで発生していた同期点検出エラー
- グラフ表示の軸ラベルが重なる問題
- キャッシュファイルの破損時のエラーハンドリング

---

## [9.0.0] - 2025-05-05

### 🎨 追加機能

- バックグラウンド処理（QThread）によるUIの応答性向上
- グラフ上でのマウスドラッグによる範囲選択機能
- 選択範囲の詳細統計情報をリアルタイム表示
- 処理進捗をプログレスバーで表示
- キャッシュシステムの導入（pickle + HDF5）

### 🔄 変更点

- アーキテクチャの大幅な改善（GUI/Core分離）
- データ処理パイプラインの最適化
- メモリ使用量の削減

### 🐛 修正

- 大容量ファイル処理時のメモリリーク
- UIフリーズの問題
- エラー時のアプリケーションクラッシュ

### 🛡️ セキュリティ

- ファイルパスのサニタイゼーション強化

---

## 📚 凡例

- 🎨 **追加機能**: 新しい機能の追加
- 🔄 **変更点**: 既存機能の変更・改善
- 🐛 **修正**: バグ修正
- 🔧 **技術的変更**: 内部実装の変更
- 🛡️ **セキュリティ**: セキュリティ関連の改善
- ⚠️ **Breaking Changes**: 後方互換性のない変更

---

## 🔗 リンク

- [GitHub Releases](https://github.com/sata04/AAT/releases)
- [完全なChangelog](../CHANGELOG.md)

---
