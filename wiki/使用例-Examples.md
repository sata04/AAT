# 使用例 - Examples

このページでは、AATの具体的な使用例を紹介します。

---

## 📊 例1: 基本的なデータ解析

最も基本的な使用例です。

### シナリオ

落下塔実験で取得したCSVデータを分析し、微小重力環境の品質を評価します。

### 手順

1. **AATを起動**
   ```bash
   python main.py
   ```

2. **CSVファイルを読み込み**
   - 「CSVファイルを選択」ボタンをクリック
   - `drop_tower_experiment.csv`を選択

3. **結果の確認**
   - グラフで重力レベルの推移を確認
   - 統計テーブルで平均Gと標準偏差を確認

4. **結果の保存**
   - `results_AAT/drop_tower_experiment.xlsx`に自動保存
   - `results_AAT/graphs/drop_tower_experiment_gl.png`にグラフ保存

---

## 🔬 例2: G-quality評価の実行

複数のウィンドウサイズでの品質評価を行います。

### シナリオ

宇宙実験のデータを読み込み、G-quality評価を実行して最適な時間窓を特定します。

### 手順

1. **ファイル読み込み**
   - `iss_experiment_data.csv`を読み込み

2. **G-quality評価を実行**
   - 「G-quality評価モード」ボタンをクリック
   - 進捗バーで処理状況を確認（約10秒）

3. **結果の解釈**
   - Excelファイルの「G-quality Analysis」シートを開く
   - 標準偏差が最小のウィンドウサイズを確認
   - 例: 0.5秒窓で標準偏差 0.0008 G → 最適

4. **グラフの確認**
   - `iss_experiment_data_gq.png`を開く
   - 3つのサブプロットで傾向を確認

---

## 🖱️ 例3: 範囲選択による詳細分析

特定の時間範囲の統計を確認します。

### シナリオ

実験の特定の時間帯（1.0秒〜1.5秒）の詳細統計を取得します。

### 手順

1. **データ読み込み**
   - CSVファイルを読み込む

2. **範囲選択**
   - グラフ上でマウスをドラッグ（1.0秒〜1.5秒の範囲）
   - 統計ダイアログが自動表示

3. **統計情報の確認**
   ```
   Inner Capsule:
     平均値: -0.0018 G
     標準偏差: 0.0009 G
     データ数: 500
   ```

4. **結果の記録**
   - 必要に応じてスクリーンショットを撮影

---

## 📈 例4: 比較モードで複数実験を比較

異なる条件の実験を同時に表示します。

### シナリオ

実験条件Aと条件Bの結果を比較します。

### 手順

1. **比較モードを有効化**
   - メニューバー「表示」→「比較モード」をチェック

2. **複数ファイルを読み込み**
   - 「CSVファイルを選択」をクリック
   - `condition_a.csv`と`condition_b.csv`を同時選択（Cmdキー押しながら）

3. **グラフで比較**
   - 両方のデータセットが異なる色で表示
   - 凡例で区別可能

4. **統計を比較**
   - テーブルで両方の統計情報を確認
   - 標準偏差が小さい方が安定

---

## 🔄 例5: 設定のカスタマイズ

サンプリングレートが異なるデータの処理。

### シナリオ

500Hzでサンプリングされたデータを処理します（デフォルトは1000Hz）。

### 手順

1. **設定ダイアログを開く**
   - メニューバー「ファイル」→「設定」

2. **サンプリングレートを変更**
   - 「サンプリングレート」を`1000`から`500`に変更
   - 「OK」をクリック

3. **データを読み込み**
   - 500HzのCSVファイルを読み込み
   - 正しく処理されることを確認

4. **ウィンドウサイズの調整（必要に応じて）**
   - ウィンドウサイズを`0.1`秒から`0.2`秒に変更
   - サンプル数: 500Hz × 0.2秒 = 100サンプル

---

## 💾 例6: キャッシュの活用

大容量ファイルの高速再処理。

### シナリオ

大きなCSVファイル（数百MB）を何度も処理する場合。

### 手順

1. **キャッシュを有効化**
   - 設定で「キャッシュを使用」をON（デフォルトでON）

2. **初回読み込み**
   - 大容量ファイルを読み込み（処理に時間がかかる）
   - キャッシュが自動作成される

3. **2回目以降の読み込み**
   - 同じファイルを再度読み込み
   - キャッシュから高速に読み込まれる（数秒）

4. **キャッシュの無効化**
   - 設定を変更した場合、自動的に再計算される

---

## 🧪 例7: 列の手動選択

標準的でない列名のCSVファイルを処理。

### シナリオ

列名が`t`, `accel1`, `accel2`のようなCSVファイル。

### 手順

1. **ファイルを選択**
   - `custom_columns.csv`を選択

2. **列選択ダイアログ**
   - 自動検出に失敗すると、列選択ダイアログが表示される

3. **列を手動選択**
   - 「時間列」: `t`を選択
   - 「Inner Capsule」: `accel1`を選択
   - 「Drag Shield」: `accel2`を選択
   - 「OK」をクリック

4. **データ処理**
   - 選択した列でデータが処理される

---

## 🎨 例8: テーマ切替

UIテーマを変更します。

### シナリオ

ダークモードからライトモードに切り替えます。

### 手順

1. **現在のテーマ確認**
   - デフォルトはシステムデフォルト

2. **テーマを変更**
   - メニューバー「表示」→「テーマ」→「ライトモード」

3. **即座に反映**
   - UIとグラフの配色が明るくなる
   - 再起動不要

---

## 🚀 高度な使用例

### プログラムからAATの機能を利用

Python スクリプトから AAT のコアモジュールを直接使用:

```python
from core.config import load_config
from core.data_processor import load_and_process_data, filter_data
from core.statistics import calculate_statistics

# 設定読み込み
config = load_config()

# データ処理
gl_inner, gl_drag, time, adj_time = load_and_process_data('data.csv', config)

# フィルタリング
time_f, gl_i_f, gl_d_f, adj_f, _, _ = filter_data(
    time, gl_inner, gl_drag, adj_time, config
)

# 統計計算
mean_g, start_time, std = calculate_statistics(gl_i_f, time_f, config)

print(f"平均G: {mean_g:.4f}")
print(f"開始時間: {start_time:.2f}秒")
print(f"標準偏差: {std:.6f}")
```

---

## 🚀 次のステップ

- **[[使い方-Usage]]** - 基本操作の復習
- **[[G-quality評価-G-quality-Evaluation]]** - G-quality機能の詳細
- **[[設定-Configuration]]** - 高度な設定
